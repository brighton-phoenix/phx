# Generated by Django 4.1.3 on 2022-11-10 15:48

from django.db import migrations


def extract_results_from_fixtures(apps, schema_editor):
    Result = apps.get_model('results', 'Result')
    for result in Result.objects.all():
        fixture = result.fixture
        result.title = fixture.title
        result.event_date = fixture.event_date
        result.categories.set(fixture.categories.all())
        result.event_url = fixture.link_url
        result.save()


class Migration(migrations.Migration):

    dependencies = [
        ('results',
         '0002_result_categories_result_event_date_result_event_url_and_more'),
    ]

    operations = [
        migrations.RunPython(extract_results_from_fixtures,
                             reverse_code=migrations.RunPython.noop),
    ]
